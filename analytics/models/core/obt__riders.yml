version: 2

models:
  - name: obt__riders
    description: Summary of riders data with key performance and race metrics.
    group: ZwiftScout
    config:
      tags: ["Core", "ZwiftRacing"]
    columns:
      - name: id
        description: '{{ doc("description_rider_id") }}'
        tests:
          - not_null
          - unique
      - name: rider
        description: '{{ doc("description_rider") }}'
      - name: club_id
        description: '{{ doc("description_club_id") }}'
      - name: club
        description: '{{ doc("description_club") }}'
      - name: weight
        description: '{{ doc("description_weight") }}'
        data_tests:
          - dbt_utils.expression_is_true:
              arguments:
                expression: '<500'
              config:
                severity: warn
      - name: zwift_category
        description: '{{ doc("description_zwift_category") }}'
      - name: velo_current
        description: '{{ doc("description_velo_current") }}'
      - name: velo_current_category
        description: '{{ doc("description_velo_current_category") }}'
      - name: velo_max_90
        description: '{{ doc("description_velo_max_90") }}'
      - name: velo_max_90_category
        description: '{{ doc("description_velo_max_90_category") }}'
      - name: race_starts
        description: '{{ doc("description_race_starts") }}'
      - name: race_finishes
        description: '{{ doc("description_race_finishes") }}'
      - name: race_wins
        description: '{{ doc("description_race_wins") }}'
      - name: race_podiums
        description: '{{ doc("description_race_podiums") }}'
      - name: wkg_5
        description: '{{ doc("description_wkg_5") }}'
      - name: wkg_15
        description: '{{ doc("description_wkg_15") }}'
      - name: wkg_30
        description: '{{ doc("description_wkg_30") }}'
      - name: wkg_60
        description: '{{ doc("description_wkg_60") }}'
      - name: wkg_120
        description: '{{ doc("description_wkg_120") }}'
      - name: wkg_300
        description: '{{ doc("description_wkg_300") }}'
      - name: wkg_1200
        description: '{{ doc("description_wkg_1200") }}'
      - name: wkg_ftp
        description: '{{ doc("description_wkg_ftp") }}'
      - name: watts_5
        description: '{{ doc("description_watts_5") }}'
      - name: watts_15
        description: '{{ doc("description_watts_15") }}'
      - name: watts_30
        description: '{{ doc("description_watts_30") }}'
      - name: watts_60
        description: '{{ doc("description_watts_60") }}'
      - name: watts_120
        description: '{{ doc("description_watts_120") }}'
      - name: watts_300
        description: '{{ doc("description_watts_300") }}'
      - name: watts_1200
        description: '{{ doc("description_watts_1200") }}'
      - name: watts_ftp
        description: '{{ doc("description_watts_ftp") }}' 
      - name: handicap_flat
        description: '{{ doc("description_handicap_flat") }}'
      - name: handicap_rolling
        description: '{{ doc("description_handicap_rolling") }}'
      - name: handicap_hilly
        description: '{{ doc("description_handicap_hilly") }}'
      - name: handicap_mountainous
        description: '{{ doc("description_handicap_mountainous") }}'
      - name: phenotype
        description: '{{ doc("description_phenotype") }}'        
      - name: phenotype_sprinter
        description: '{{ doc("description_phenotype_sprinter") }}'
      - name: phenotype_puncheur
        description: '{{ doc("description_phenotype_puncheur") }}'
      - name: phenotype_pursuiter
        description: '{{ doc("description_phenotype_pursuiter") }}'
      - name: phenotype_climber
        description: '{{ doc("description_phenotype_climber") }}'
      - name: phenotype_timetrialist
        description: '{{ doc("description_phenotype_timetrialist") }}'
      - name: dlt_load_datetime
        description: '{{ doc("description_dlt_load_datetime") }}'
      - name: dlt_load_epoch
        description: '{{ doc("description_dlt_load_epoch") }}'